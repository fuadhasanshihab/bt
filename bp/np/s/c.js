var dayOffset=2,month_names={bn:{1:"জানুয়ারি",2:"ফেব্রুয়ারি",3:"মার্চ",4:"এপ্রিল",5:"মে",6:"জুন",7:"জুলাই",8:"আগস্ট",9:"সেপ্টেম্বর",10:"অক্টোবর",11:"নভেম্বর",12:"ডিসেম্বর"},en:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},mDays=new Array(13);mDays[1]=31,mDays[2]=29,mDays[3]=31,mDays[4]=30,mDays[5]=31,mDays[6]=30,mDays[7]=31,mDays[8]=31,mDays[9]=30,mDays[10]=31,mDays[11]=30,mDays[12]=31;var bDays=new Array(11);function banglaNumber(e){e=(e=e.toString()).split("");var a="";return $(e).each((function(e,t){parseInt(t)>=0&&parseInt(t)<=9?a+=bDays[t]:a+=t})),a}function languageNumber(e,a){return"bn"==a?banglaNumber(e):e}function parseISO8601(e){var a,t=new Date(NaN),n=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/.exec(e);return n&&(a=+n[2],t.setFullYear(n[1],a-1,n[3]),a!=t.getMonth()+1&&t.setTime(NaN)),t}bDays[0]="০",bDays[1]="১",bDays[2]="২",bDays[3]="৩",bDays[4]="৪",bDays[5]="৫",bDays[6]="৬",bDays[7]="৭",bDays[8]="৮",bDays[9]="৯";var js_calender=function(e){var a=new Object;a.container=e.container?e.container:"",a.language=e.language?e.language:"en",a.lowest_year=e.lowest_year?e.lowest_year:"2005",a.current_date=e.current_date?e.current_date:"",a.last_date=e.last_date?e.last_date:"",a.url_prefix=e.url_prefix?e.url_prefix:"",a.url_postfix=e.url_postfix?e.url_postfix:"",a.delimeter=e.delimeter?e.delimeter:"-",a.afterresizeinterval=null,a.init=function(){var e=$(a.container).parent().width()-1,t=parseInt(e/7);a.fixed_cell_width=t-3,$(a.container+" .dayZone dt").width(a.fixed_cell_width),$(a.container+" .dayZone dt").height(a.fixed_cell_width),$(a.container+" .dayZone dt").css("line-height",a.fixed_cell_width+"px"),$(a.container).width(7*t+1),a.calenderRender("init"),$(a.container+" .yearSelector").change(a.YearcalenderRender),$(a.container+" .monthSelector").change(a.MonthcalenderRender),$(a.container+" .editionType span").click(a.EditioncalenderRender)},a.YearcalenderRender=function(){a.calenderRender("year")},a.MonthcalenderRender=function(){a.calenderRender("month")},a.EditioncalenderRender=function(){$(a.container+" .editionType span").removeClass("active"),$(this).addClass("active"),a.calenderRender("edition")},a.calenderRender=function(e){var t,n,r,l,o=new Date(parseISO8601(a.last_date)),d=new Date(parseISO8601(a.current_date)),c=new Date(parseISO8601(a.lowest_year));if("init"==e){if(r=o.getMonth(),l=o.getFullYear(),t=d.getMonth(),n=d.getFullYear(),d>o&&(t=r,n=l),$(a.container+" .calendarTop .monthSelector").html(""),o.getFullYear()==d.getFullYear())for(i=1;i<=o.getMonth()+1;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");else if(c.getFullYear()==d.getFullYear())for(i=c.getMonth()+1;i<=12;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");else for(i=1;i<=12;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");for($(a.container+" .calendarTop .yearSelector").html(""),i=c.getFullYear();i<=o.getFullYear();i++){var s=languageNumber(i,a.language);$(a.container+" .calendarTop .yearSelector").append("<option value="+i+">"+s+"</option>")}$(a.container+" .monthSelector").val(t+1),$(a.container+" .yearSelector").val(n)}else if("year"==e||"init"==e)if($(a.container+" .calendarTop .monthSelector").html(""),o.getFullYear()==$(a.container+" .yearSelector").val())for(i=1;i<=o.getMonth()+1;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");else if(c.getFullYear()==$(a.container+" .yearSelector").val())for(i=c.getMonth()+1;i<=12;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");else for(i=1;i<=12;i++)$(a.container+" .calendarTop .monthSelector").append("<option value="+i+">"+month_names[a.language][i]+"</option>");t=$(a.container+" .monthSelector").val(),n=$(a.container+" .yearSelector").val(),tmpD=new Date(n,t-1,1);var p=tmpD.getDay()+dayOffset,u=mDays[t];n%4&&2==t&&(u=28),p>7&&(p%=7),$(a.container+" .dayHolder").html(a.jFillDay(u,p,n,t)),$(a.container+" .dayZone dd, "+a.container+" .dateZone dd, "+a.container+" .dateZone dt, "+a.container+" .dateZone a").width(a.fixed_cell_width),$(a.container+" .dayZone dd, "+a.container+" .dateZone dd, "+a.container+" .dateZone dt, "+a.container+" .dateZone a").height(a.fixed_cell_width),$(a.container+" .dayZone dd, "+a.container+" .dateZone dd, "+a.container+" .dateZone dt, "+a.container+" .dateZone a").css("line-height",a.fixed_cell_width+"px")},a.jFillDay=function(e,n,r,i){for(var l=1,o="",d=new Date(parseISO8601(a.current_date)),c=new Date(parseISO8601(a.lowest_year)),s=new Date(parseISO8601(a.last_date)),p=r+"-"+(i<10?"0":"")+i+"-",u=1;u<n;u++)o+='<dd><a href="javascript:" aria-label="Blank day" class="blank_day disabled">&nbsp;</a></dd>';if(tmp2=new Date(parseISO8601(p+"01")),c.getFullYear()==r&&c.getMonth()+1==i)for(;l<c.getDate();)t=(l<10?"0":"")+l,o+='<dd><a href="javascript:" class="disabled">'+languageNumber(t,a.language)+"</a></dd>",l++;for(edition=$(a.container+" .editionType .active").data("val");l<=e&&(tmp2.getFullYear()==s.getFullYear()&&tmp2.getMonth()<=s.getMonth()||tmp2.getFullYear()<s.getFullYear())&&(t=(l<10?"0":"")+l,tmp=p+t,tmp2=new Date(parseISO8601(tmp)),!(tmp2.getFullYear()==s.getFullYear()&&tmp2.getMonth()==s.getMonth()&&s.getDate()<tmp2.getDate()));)classs="",tmp2.getFullYear()==d.getFullYear()&&tmp2.getMonth()==d.getMonth()&&d.getDate()==tmp2.getDate()&&(classs="active"),o+='<dd><a href="'+a.url_prefix+(edition?edition+"/":"")+tmp.replace(/(-)/g,a.delimeter)+a.url_postfix+'" class="'+classs+'">'+languageNumber(t,a.language)+"</a></dd>",l++;for(;l<=e;)t=(l<10?"0":"")+l,o+='<dd><a href="javascript:" class="disabled">'+languageNumber(t,a.language)+"</a></dd>",l++;return o},a.resizeinit=function(){a.afterresizeinterval&&(clearInterval(a.afterresizeinterval),a.init())},a.resize_event=function(){clearInterval(a.afterresizeinterval),a.afterresizeinterval=setInterval(a.resizeinit,500)},a.afterresizeinterval=setInterval(a.resizeinit,100),$(window).resize(a.resize_event)};
